"use strict";(self.webpackChunkhuts4u=self.webpackChunkhuts4u||[]).push([[706],{6162:(e,o,r)=>{r.d(o,{Gw:()=>g,KU:()=>y,VX:()=>x,XY:()=>A,YY:()=>h,lm:()=>v,rD:()=>b});var n=r(6607),t=r(4535),a=r(4605),i=r(7392),s=r(7195),l=r(6240),d=r(5442),c=r(3580),u=r(9389),p=r(579);const x={p:2,px:4,boxShadow:"0px 0px 20px rgba(0, 0, 0, 0.18)",borderRadius:"12px",my:4};function h(e){return(0,p.jsx)(n.A,{style:{padding:"6px"},disableRipple:!0,color:"default",checkedIcon:(0,p.jsx)(f,{}),icon:(0,p.jsx)(m,{}),...e})}const m=(0,t.Ay)("span")((e=>{let{theme:o}=e;return{borderRadius:"50%",width:18,height:18,boxShadow:"inset 0 0 0 1px rgba(16,22,26,.2), inset 0 -1px 0 rgba(16,22,26,.1)",backgroundColor:"#f5f8fa",backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))",".Mui-focusVisible &":{outline:"2px auto rgba(41, 91, 122, 0.6)",outlineOffset:2},"input:hover ~ &":{backgroundColor:"#ebf1f5",...o.applyStyles("dark",{backgroundColor:"#30404d"})},"input:disabled ~ &":{boxShadow:"none",background:"rgba(206,217,224,.5)",...o.applyStyles("dark",{background:"rgba(57,75,89,.5)"})},...o.applyStyles("dark",{boxShadow:"0 0 0 1px rgb(16 22 26 / 40%)",backgroundColor:"#394b59",backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.05),hsla(0,0%,100%,0))"})}})),f=(0,t.Ay)(m)({backgroundColor:c.A.secondColor,backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.1),hsla(0,0%,100%,0))","&::before":{display:"block",width:18,height:18,backgroundImage:"radial-gradient(#fff,#fff 28%,transparent 32%)",content:'""'},"input:hover ~ &":{backgroundColor:c.A.secondColor}}),g=(0,t.Ay)(a.A)((e=>{let{theme:o,checked:r}=e;return{color:r?c.A.thirdColor:c.A.firstColor,background:r?"linear-gradient(90deg, #614385, #516395)":"transparent",borderRadius:" 2px 8px 8px 2px",display:"flex",alignItems:"center",transition:"0.3s",paddingLeft:r?"30px":"auto",marginLeft:r?"-40px":"-10px",paddingRight:"10px",fontSize:r?"1rem":"0.95rem"}})),b=(0,t.Ay)(n.A)({color:c.A.firstColor,"&.Mui-checked":{color:c.A.thirdColor}}),y=e=>{const{onClick:o}=e;return(0,p.jsx)(i.A,{onClick:o,sx:{position:"absolute",right:"0px",top:"50%",transform:"translateY(-50%)",background:c.A.background,color:"white",zIndex:2,"&:hover":{background:c.A.firstColor}},children:(0,p.jsx)(u.A,{})})},A=(0,t.Ay)(s.A)({marginBottom:"10px","& .MuiOutlinedInput-root":{"& fieldset":{border:"none",borderRadius:"52px",boxShadow:"4px 4px 10px rgba(104, 39, 184, 0.17)",color:c.A.firstColor},"&:hover fieldset":{border:"solid 1px"},"&.Mui-focused fieldset":{border:"solid 1px"}},"& .MuiInputBase-input":{color:c.A.firstColor},"& .MuiInputLabel-root":{color:c.A.firstColor},"& .MuiInputLabel-root.Mui-focused":{color:c.A.firstColor}}),v=()=>{const e=(0,l.A)();return{isBelow400px:(0,d.A)(e.breakpoints.down(400))}}},6494:(e,o,r)=>{r.d(o,{A:()=>x});var n=r(5043),t=r(8387),a=r(8610),i=r(4535),s=r(8206),l=r(2532),d=r(2372);function c(e){return(0,d.Ay)("MuiCardContent",e)}(0,l.A)("MuiCardContent",["root"]);var u=r(579);const p=(0,i.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,o)=>o.root})({padding:16,"&:last-child":{paddingBottom:24}}),x=n.forwardRef((function(e,o){const r=(0,s.b)({props:e,name:"MuiCardContent"}),{className:n,component:i="div",...l}=r,d={...r,component:i},x=(e=>{const{classes:o}=e;return(0,a.A)({root:["root"]},c,o)})(d);return(0,u.jsx)(p,{as:i,className:(0,t.A)(x.root,n),ownerState:d,ref:o,...l})}))},9325:(e,o,r)=>{r.r(o),r.d(o,{default:()=>q});var n=r(9662),t=r(579);const a=(0,n.A)((0,t.jsx)("path",{d:"m12 17.27 4.15 2.51c.76.46 1.69-.22 1.49-1.08l-1.1-4.72 3.67-3.18c.67-.58.31-1.68-.57-1.75l-4.83-.41-1.89-4.46c-.34-.81-1.5-.81-1.84 0L9.19 8.63l-4.83.41c-.88.07-1.24 1.17-.57 1.75l3.67 3.18-1.1 4.72c-.2.86.73 1.54 1.49 1.08z"}),"StarRounded");var i=r(7353),s=r(2110),l=r(6494),d=r(4496),c=r(6591),u=r(9336),p=r(1716),x=r(3580),h=r(6162),m=r(3216),f=r(3892),g=r(899),b=r(9995),y=r(7488),A=r(5043),v=r(9007),j=r(1081),k=r(8387),C=r(8610),w=r(4535),S=r(8206),R=r(7034),z=r(2563);const I=(0,w.Ay)(d.A,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,o)=>o.root})({padding:"16px 24px",flex:"0 0 auto"}),W=A.forwardRef((function(e,o){const r=(0,S.b)({props:e,name:"MuiDialogTitle"}),{className:n,id:a,...i}=r,s=r,l=(e=>{const{classes:o}=e;return(0,C.A)({root:["root"]},R.t,o)})(s),{titleId:d=a}=A.useContext(z.A);return(0,t.jsx)(I,{component:"h2",className:(0,k.A)(l.root,n),ownerState:s,ref:o,variant:"h6",id:a??d,...i})}));var B=r(5316),P=r(9347),M=r(1906);const N=e=>{let{orderDetails:o,amount:r}=e;const n=(0,m.Zp)(),[a,i]=(0,A.useState)(!0),s=()=>i(!1);return(0,t.jsx)("div",{children:(0,t.jsxs)(j.A,{open:a,onClose:s,maxWidth:"xs",fullWidth:!0,sx:{"& .MuiPaper-root":{padding:"8px",borderRadius:"16px"}},children:[(0,t.jsx)(W,{children:"Complete Your Payment"}),(0,t.jsx)(B.A,{children:(0,t.jsx)("p",{children:"Ensure your payment details are correct before proceeding."})}),(0,t.jsxs)(P.A,{style:{display:"flex",justifyContent:"flex-end"},children:[(0,t.jsx)(M.A,{style:{textTransform:"none",color:"black"},onClick:s,children:"Cancel"}),(0,t.jsx)(M.A,{onClick:async()=>{var e;if(!await(e="https://checkout.razorpay.com/v1/checkout.js",new Promise((o=>{const r=document.createElement("script");r.src=e,r.onload=()=>o(!0),r.onerror=()=>o(!1),document.body.appendChild(r)}))))return void alert("Failed to load Razorpay SDK. Please check your internet connection.");if(!window.Razorpay)return void alert("Razorpay SDK is not available. Try reloading the page.");console.log(o);const r={key:v.tz||"",amount:o.data.amount,currency:o.data.currency,order_id:o.data.id,handler:async e=>{try{await(0,b.KF)({orderId:e.razorpay_order_id,paymentId:e.razorpay_payment_id,signature:e.razorpay_signature}),alert("Payment Successful"),n("/")}catch(o){alert("Payment verification failed. Please try again.")}}};new window.Razorpay(r).open()},variant:"contained",style:{background:x.A.firstColor,fontSize:"18px",textTransform:"none",border:"solid 1px white"},sx:{padding:"2px 10px",transition:"all 0.4s ease","&:hover":{paddingRight:"20px"}},children:"Proceed to Pay"})]})]})})},D="Best Western Ashoka",Y="Lakdi ka pool",T=4.3,O=130,F="27 Feb 25",L="2:00 PM",_="27 Feb 25",E="5:00 PM",K="3 Hours",V="1 Room, 2 Guests",X="700.00",G="Superior Double Room",H=g.Ik({name:g.Yj().required("Name is required"),email:g.Yj().email("Invalid email").optional()}),q=()=>{var e;const o=null===(e=(0,m.zy)().state)||void 0===e?void 0:e.phoneNumber,[r,n]=(0,A.useState)({});console.log(r),(0,A.useEffect)((()=>{(0,b.$p)(o.slice(2)).then((e=>{var o;n(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.data)})).catch((e=>{console.log(e)}))}),[]);const[g,v]=(0,A.useState)(null),j=async()=>{try{const e=parseFloat(X)||0,o=e+200;if(console.log("Total Amount before payment:",o),0===o)return void alert("Booking amount cannot be zero.");const r={amount:o,currency:"INR"};console.log("Payload sent to createOrder:",r);const n=await(0,b.fS)(r);console.log("Payment Response:",n),null!==n&&void 0!==n&&n.data?v(n.data):alert("Payment failed. Please try again.")}catch(e){console.error("Error during payment:",e),alert("Payment failed. Please try again.")}},k=(0,f.Wx)({initialValues:{name:(null===r||void 0===r?void 0:r.userName)||"",email:(null===r||void 0===r?void 0:r.email)||""},validationSchema:H,enableReinitialize:!0,onSubmit:e=>{const n={userName:e.name,email:e.email,phoneNumber:o.slice(2),isVerified:!0};null===(null===r||void 0===r?void 0:r.data)?((0,b.l4)(n).then((e=>{console.log(e)})).catch((e=>{(0,y.oR)(e)})),j()):j()}});return(0,t.jsxs)(i.A,{sx:{...h.VX,background:"#f6f6f6",mt:0,py:4,px:{xs:1,md:3},display:"flex",flexDirection:{xs:"column",md:"row"},justifyContent:"center",gap:"20px"},children:[(0,t.jsx)(s.A,{sx:{p:1,background:"white",maxWidth:"700px",border:"none",boxShadow:0,borderRadius:"12px"},children:(0,t.jsxs)(l.A,{children:[(0,t.jsx)(d.A,{variant:"h6",gutterBottom:!0,sx:{color:x.A.firstColor,fontWeight:"bold"},children:"Your Booking Summary"}),(0,t.jsxs)(i.A,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:{xs:0,md:2},position:"relative",mt:2},children:[(0,t.jsx)(c.A,{component:"img",sx:{width:{xs:"100%",md:"250px"},borderRadius:"12px"},image:"https://s3.ap-south-1.amazonaws.com/huts4u.shop/room-image+1.jpg"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d.A,{sx:{fontSize:"20px",fontWeight:600,color:x.A.firstColor,mt:{xs:1.5,md:1},display:"-webkit-box",overflow:"hidden",textOverflow:"ellipsis",WebkitLineClamp:1,WebkitBoxOrient:"vertical"},children:D}),(0,t.jsx)(d.A,{sx:{fontFamily:"CustomFontSB",fontSize:{xs:"12px",md:"14px"},display:"-webkit-box",overflow:"hidden",textOverflow:"ellipsis",WebkitLineClamp:1,WebkitBoxOrient:"vertical"},children:Y}),(0,t.jsxs)(i.A,{sx:{position:"absolute",top:4,right:6,justifyContent:"center",alignItems:"center",gap:"6px"},children:[(0,t.jsxs)(d.A,{variant:"body2",fontWeight:600,color:x.A.thirdColor,sx:{background:x.A.background,px:1,borderRadius:"4px",fontSize:"18px",display:"flex",justifyContent:"center",alignItems:"center"},children:[T," ",(0,t.jsx)(a,{})]}),(0,t.jsxs)(d.A,{variant:"body2",fontWeight:600,color:x.A.firstColor,lineHeight:1,sx:{fontSize:"10px",background:"white",mt:.5,p:.5,borderRadius:"4px"},children:["(",O," reviews)"]})]}),(0,t.jsxs)("div",{style:{marginTop:"10px",display:"flex",flexWrap:"wrap",flexDirection:"column",gap:"4px"},children:[(0,t.jsxs)(d.A,{sx:J,children:[(0,t.jsx)("strong",{children:"Check-In:"})," ",F,","," ",L]}),(0,t.jsxs)(d.A,{sx:J,children:[(0,t.jsx)("strong",{children:"Check-Out:"})," ",_,","," ",E]}),(0,t.jsxs)(d.A,{sx:J,children:[(0,t.jsx)("strong",{children:"Duration: "}),K]}),(0,t.jsxs)(d.A,{sx:J,children:[(0,t.jsx)("strong",{children:"Room Type:"})," ",G]}),(0,t.jsxs)(d.A,{sx:J,children:[(0,t.jsx)("strong",{children:"Room Info: "}),V]})]})]})]}),(0,t.jsxs)("form",{onSubmit:k.handleSubmit,children:[(0,t.jsx)(d.A,{variant:"h6",mt:4,sx:{color:x.A.firstColor,fontWeight:"bold"},children:"Guest Information"}),(0,t.jsx)(h.XY,{label:"Guest Name",name:"name",fullWidth:!0,margin:"normal",value:k.values.name,onChange:k.handleChange,onBlur:k.handleBlur,error:k.touched.name&&Boolean(k.errors.name)}),(0,t.jsx)(h.XY,{label:"Email Address (Optional)",name:"email",fullWidth:!0,margin:"normal",value:k.values.email,onChange:k.handleChange,onBlur:k.handleBlur,error:k.touched.email&&Boolean(k.errors.email)}),(0,t.jsx)(p.A,{variant:"contained",color:"primary",fullWidth:!0,sx:{mt:2},type:"submit",children:"Pay Now"}),g&&(0,t.jsx)(N,{orderDetails:g,amount:X})]})]})}),(0,t.jsx)(s.A,{sx:{p:1,background:"white",border:"none",boxShadow:0,borderRadius:"12px",height:"fit-content"},children:(0,t.jsxs)(l.A,{children:[(0,t.jsx)(d.A,{variant:"h6",gutterBottom:!0,sx:{color:x.A.firstColor,fontWeight:"bold"},children:"Your Bil Summary"}),(0,t.jsxs)("div",{style:{marginTop:"10px",display:"flex",flexWrap:"wrap",flexDirection:"column",gap:"4px"},children:[(0,t.jsxs)(d.A,{sx:J,children:[(0,t.jsx)("strong",{children:"Room price: "}),"\u20b9",X]}),(0,t.jsxs)(d.A,{sx:J,children:[(0,t.jsx)("strong",{children:"Service Charges: "}),"\u20b9200.00"]}),(0,t.jsx)(u.A,{sx:{my:2}}),(0,t.jsxs)(d.A,{variant:"h6",sx:{color:x.A.firstColor,fontWeight:"bold",lineHeight:1},children:["Total price: \u20b9",Number(X)+200,".00 ",(0,t.jsx)("br",{}),(0,t.jsx)("span",{style:{fontSize:"12px",fontWeight:"normal"},children:"incl. of all taxes"})]})]})]})})]})},J={borderRadius:"52px",boxShadow:"4px 4px 10px rgba(104, 39, 184, 0.17)",color:x.A.firstColor,background:"white",fontSize:{xs:"12px",md:"14px"},width:"fit-content",p:1,px:2,mb:1}},9995:(e,o,r)=>{r.d(o,{$p:()=>s,AJ:()=>t,KF:()=>l,fS:()=>d,l4:()=>i,vJ:()=>a});var n=r(9628);function t(e){return n.Sn.post("/auth/send-otp",e)}function a(e){return n.Sn.post("/auth/verify-otp",e)}function i(e){return n.Sn.post("/auth/create",e)}function s(e){return n.Sn.get("/User/search-one-record",{params:{phoneNumber:e}})}function l(e){return n.Sn.post("/razorpay/verify",e)}function d(e){return n.Sn.post("/razorpay/orders",e)}}}]);
//# sourceMappingURL=706.f33ed013.chunk.js.map