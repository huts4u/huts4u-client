"use strict";(self.webpackChunkhuts4u=self.webpackChunkhuts4u||[]).push([[912],{8881:(e,t,r)=>{r.d(t,{A:()=>v});var o=r(65043),i=r(94496),n=r(7353),a=r(53193),s=r(11906),l=r(79650),d=r(61596),c=r(71806),h=r(84882),x=r(28076),u=r(10039),p=r(73460),g=r(81045),A=r(43845),b=r(33580),m=r(69995),j=r(70579);const v=e=>{let{bookings:t=[],hotelId:r}=e;const[v,f]=(0,o.useState)(null);(0,o.useEffect)((()=>{r&&(0,m.hb)(r).then((e=>{var t,r;f((null===e||void 0===e||null===(t=e.data)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.roomAvailable)||"Unavailable")})).catch((()=>{f("Unavailable")}))}),[r]);return null===v?(0,j.jsx)(i.A,{p:2,children:"Loading availability..."}):(0,j.jsxs)(n.A,{sx:{padding:2,background:b.A.thirdColor,boxShadow:"0px 0px 14px rgba(0, 0, 0, 0.14)",borderRadius:"12px"},children:[(0,j.jsxs)(n.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(i.A,{variant:"h6",fontWeight:"bold",children:"New bookings"}),(0,j.jsx)(i.A,{variant:"body2",color:"gray",children:t.length>0?"Recent guest reservations list":"No bookings found"})]}),(0,j.jsx)(a.A,{sx:{width:"fit-content",color:b.A.firstColor},children:(0,j.jsx)(s.A,{variant:"contained",color:"Available"===v?"success":"error",onClick:()=>{if(!r)return;const e="Available"===v?"Unavailable":"Available";f(e),(0,m.hI)(r,{roomAvailable:e}).then((()=>console.log("Availability updated"))).catch((e=>{console.error("Error updating availability:",e),f("Available"===v?"Unavailable":"Available")}))},disabled:!r,children:v})})]}),t.length>0?(0,j.jsx)(l.A,{component:d.A,sx:{marginTop:2,boxShadow:"none"},children:(0,j.jsxs)(c.A,{style:{background:b.A.thirdColor},children:[(0,j.jsx)(h.A,{children:(0,j.jsx)(x.A,{children:["Booking ID","Guest name","Checked In Date","Checked In Time","Checked Out Date","Checked Out Time","Status",""].map((e=>(0,j.jsx)(u.A,{sx:{fontWeight:"bold",color:"gray",fontSize:"14px",whiteSpace:"nowrap"},children:e},e)))})}),(0,j.jsx)(p.A,{children:t.map((e=>(0,j.jsxs)(x.A,{style:{border:"solid 0px",boxShadow:"none"},children:[(0,j.jsx)(u.A,{children:e.id}),(0,j.jsx)(u.A,{children:(0,j.jsxs)(n.A,{display:"flex",alignItems:"center",gap:1,children:[(0,j.jsx)(g.A,{src:e.avatar,alt:e.geustName}),(0,j.jsx)(i.A,{children:e.geustName})]})}),(0,j.jsx)(u.A,{children:e.checkInDate}),(0,j.jsx)(u.A,{children:e.checkInTime}),(0,j.jsx)(u.A,{children:e.checkOutDate}),(0,j.jsx)(u.A,{children:e.checkOutTime}),(0,j.jsx)(u.A,{children:(0,j.jsx)(A.A,{label:e.status,sx:{backgroundColor:e.statusColor,color:"#000",fontWeight:"bold"}})})]},e.id)))})]})}):(0,j.jsx)(n.A,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",sx:{background:b.A.thirdColor},children:(0,j.jsx)(i.A,{variant:"body1",color:"textSecondary",children:"No bookings available for this hotel"})})]})}},64912:(e,t,r)=>{r.r(t),r.d(t,{default:()=>M});var o=r(51214),i=r(59662),n=r(70579);const a=(0,i.A)((0,n.jsx)("path",{d:"m14.43 10-1.47-4.84c-.29-.95-1.63-.95-1.91 0L9.57 10H5.12c-.97 0-1.37 1.25-.58 1.81l3.64 2.6-1.43 4.61c-.29.93.79 1.68 1.56 1.09l3.69-2.8 3.69 2.81c.77.59 1.85-.16 1.56-1.09l-1.43-4.61 3.64-2.6c.79-.57.39-1.81-.58-1.81h-4.45z"}),"StarRateRounded");var s=r(17953),l=r(94389),d=r(42796),c=r(7353),h=r(68903),x=r(12110),u=r(26494),p=r(94496),g=r(53193),A=r(57465),b=r(32143),m=r(17392),j=r(50108),v=r(11653),f=r(87734),y=r(52185),w=r(6026),k=r(86150),S=r(90168),C=r(33580),R=r(8881),I=r(65043),z=r(69995),D=r(59628);const M=()=>{const e=[{name:"Dec 27",revenue:1e5},{name:"Jan 28",revenue:25e4},{name:"Feb 28",revenue:215060}],[t,r]=(0,I.useState)([]),[i,M]=(0,I.useState)({}),[N,W]=(0,I.useState)("");(0,I.useEffect)((()=>{(async()=>{const e={data:{filter:"",userId:(0,D.F6)()},page:0,pageSize:50,order:[["createdAt","ASC"]]};try{var t,o;const i=await(0,z.Vy)(e);if(null!==i&&void 0!==i&&null!==(t=i.data)&&void 0!==t&&null!==(o=t.data)&&void 0!==o&&o.rows){const e=i.data.data.rows.map((e=>({id:e.id,name:e.propertyName})));return r(e),e.length>0&&W(e[0].id),e.map((e=>e.id))}}catch(i){console.error("Error fetching hotels:",i)}return[]})().then((e=>(async e=>{if(0===e.length)return;const t={};await Promise.all(e.map((async e=>{try{var r,o;const i={data:{filter:"",hotelId:e},page:0,pageSize:50,order:[["checkInDate","ASC"]]},n=await(0,z.Gc)(i);t[e]=(null===n||void 0===n||null===(r=n.data)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.rows)||[]}catch(i){console.error(`Error fetching bookings for hotel ${e}:`,i),t[e]=[]}}))),M(t)})(null!==e&&void 0!==e?e:[])))}),[]);return(0,n.jsx)(c.A,{p:3,sx:{background:C.A.thirdColor},children:(0,n.jsxs)(h.Ay,{container:!0,spacing:3,children:[(0,n.jsx)(h.Ay,{item:!0,xs:12,children:(0,n.jsx)(x.A,{sx:{background:C.A.thirdColor,boxShadow:"0px 0px 14px rgba(0, 0, 0, 0.14)",borderRadius:"12px"},children:(0,n.jsxs)(u.A,{children:[(0,n.jsxs)(c.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[(0,n.jsx)(p.A,{fontWeight:"bold",variant:"h6",children:"Upcoming Bookings"}),t.length>0&&(0,n.jsx)(g.A,{sx:{minWidth:200},children:(0,n.jsx)(A.A,{value:N,onChange:e=>{W(e.target.value)},size:"small",children:t.map((e=>(0,n.jsx)(b.A,{value:e.id,children:e.name},e.id)))})})]}),N&&(0,n.jsx)(R.A,{bookings:i[N]||[],hotelId:N})]})})}),(0,n.jsx)(h.Ay,{item:!0,xs:12,md:12,children:(0,n.jsx)(h.Ay,{container:!0,spacing:2.5,children:[{title:"New Bookings",value:840,icon:(0,n.jsx)(o.A,{}),change:"8.70%",color:"#A3E4D7"},{title:"Guest ratings",value:"4.7/5",icon:(0,n.jsx)(a,{}),change:"-3.56%",color:"#D4EFDF"},{title:"Total Revenue",value:"\u20b9123,980",icon:(0,n.jsx)(s.A,{}),change:"5.70%",color:"#D5F5E3"}].map(((e,t)=>(0,n.jsx)(h.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,n.jsx)(x.A,{sx:{background:C.A.thirdColor,boxShadow:"0px 0px 14px rgba(0, 0, 0, 0.14)",borderRadius:"12px"},children:(0,n.jsxs)(u.A,{children:[(0,n.jsxs)(c.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,n.jsx)(p.A,{color:"#7c7c7c",fontSize:"14px",children:e.title}),(0,n.jsx)(m.A,{style:{background:C.A.firstColor,color:"white",borderRadius:"8px"},children:e.icon})]}),(0,n.jsx)(p.A,{variant:"h5",fontWeight:600,children:e.value}),(0,n.jsxs)(p.A,{mt:2,display:"flex",alignItems:"center",gap:1,sx:{color:e.change.includes("-")?"red":"green",width:"fit-content",px:2,borderRadius:"4px",border:"solid 1px",fontSize:"14px"},children:[e.change.includes("-")?(0,n.jsx)(l.A,{}):(0,n.jsx)(d.A,{})," ",e.change," from last week"]})]})})},t)))})}),(0,n.jsx)(h.Ay,{item:!0,xs:12,md:6,children:(0,n.jsx)(x.A,{sx:{background:C.A.firstColor,color:"white",borderRadius:"10px",padding:"20px",height:"250px"},children:(0,n.jsxs)(u.A,{sx:{p:0,pb:"0 !important"},children:[(0,n.jsxs)(c.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[(0,n.jsx)(p.A,{fontWeight:"bold",variant:"h6",children:"Booking Overview"}),(0,n.jsx)(g.A,{sx:{width:"fit-content",color:"white","& .MuiOutlinedInput-root":{fontSize:"8px",padding:"0px",borderRadius:"8px",color:"white",border:"1px solid",borderColor:"white"},"& .MuiSelect-icon":{color:"white"}},children:(0,n.jsx)(A.A,{size:"small",value:"Last 6 Months",children:(0,n.jsx)(b.A,{value:"Last 6 Months",children:"Last 6 Months"})})})]}),(0,n.jsx)(c.A,{sx:{height:200,marginTop:2,ml:"-10px"},children:(0,n.jsx)(j.u,{width:"100%",height:"100%",children:(0,n.jsxs)(v.b,{data:e,margin:{top:10,right:10,left:0,bottom:0},children:[(0,n.jsx)(f.d,{strokeDasharray:"3 3",stroke:"white"}),(0,n.jsx)(y.W,{style:{fontSize:"10px"},dataKey:"name",stroke:"white"}),(0,n.jsx)(w.h,{style:{fontSize:"10px"},stroke:"white"}),(0,n.jsx)(k.m,{contentStyle:{backgroundColor:C.A.firstColor,border:"solid 1.5px white",borderRadius:"4px",color:"white"}}),(0,n.jsx)(S.N,{type:"monotone",dataKey:"revenue",stroke:"white",strokeWidth:3,dot:{r:6}})]})})})]})})}),(0,n.jsx)(h.Ay,{item:!0,xs:12,md:6,children:(0,n.jsx)(x.A,{sx:{background:C.A.firstColor,color:"white",borderRadius:"10px",padding:"20px",height:"250px"},children:(0,n.jsxs)(u.A,{sx:{p:0,pb:"0 !important"},children:[(0,n.jsxs)(c.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[(0,n.jsx)(p.A,{fontWeight:"bold",variant:"h6",children:"Revenue"}),(0,n.jsx)(g.A,{sx:{width:"fit-content",color:"white","& .MuiOutlinedInput-root":{fontSize:"8px",padding:"0px",borderRadius:"8px",color:"white",border:"1px solid",borderColor:"white"},"& .MuiSelect-icon":{color:"white"}},children:(0,n.jsx)(A.A,{size:"small",value:"Last 6 Months",children:(0,n.jsx)(b.A,{value:"Last 6 Months",children:"Last 6 Months"})})})]}),(0,n.jsx)(c.A,{sx:{height:200,marginTop:2,ml:"-10px"},children:(0,n.jsx)(j.u,{width:"100%",height:"100%",children:(0,n.jsxs)(v.b,{data:e,margin:{top:10,right:10,left:0,bottom:0},children:[(0,n.jsx)(f.d,{strokeDasharray:"3 3",stroke:"white"}),(0,n.jsx)(y.W,{style:{fontSize:"10px"},dataKey:"name",stroke:"white"}),(0,n.jsx)(w.h,{style:{fontSize:"10px"},stroke:"white"}),(0,n.jsx)(k.m,{contentStyle:{backgroundColor:C.A.firstColor,border:"solid 1.5px white",borderRadius:"4px",color:"white"}}),(0,n.jsx)(S.N,{type:"monotone",dataKey:"revenue",stroke:"white",strokeWidth:3,dot:{r:6}})]})})})]})})})]})})}},81045:(e,t,r)=>{r.d(t,{A:()=>j});var o=r(65043),i=r(58387),n=r(98610),a=r(34535),s=r(56262),l=r(98206),d=r(59662),c=r(70579);const h=(0,d.A)((0,c.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var x=r(92532),u=r(72372);function p(e){return(0,u.Ay)("MuiAvatar",e)}(0,x.A)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var g=r(4162);const A=(0,a.Ay)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],r.colorDefault&&t.colorDefault]}})((0,s.A)((e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}}))),b=(0,a.Ay)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),m=(0,a.Ay)(h,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});const j=o.forwardRef((function(e,t){const r=(0,l.b)({props:e,name:"MuiAvatar"}),{alt:a,children:s,className:d,component:h="div",slots:x={},slotProps:u={},imgProps:j,sizes:v,src:f,srcSet:y,variant:w="circular",...k}=r;let S=null;const C={...r,component:h,variant:w},R=function(e){let{crossOrigin:t,referrerPolicy:r,src:i,srcSet:n}=e;const[a,s]=o.useState(!1);return o.useEffect((()=>{if(!i&&!n)return;s(!1);let e=!0;const o=new Image;return o.onload=()=>{e&&s("loaded")},o.onerror=()=>{e&&s("error")},o.crossOrigin=t,o.referrerPolicy=r,o.src=i,n&&(o.srcset=n),()=>{e=!1}}),[t,r,i,n]),a}({...j,..."function"===typeof u.img?u.img(C):u.img,src:f,srcSet:y}),I=f||y,z=I&&"error"!==R;C.colorDefault=!z,delete C.ownerState;const D=(e=>{const{classes:t,variant:r,colorDefault:o}=e,i={root:["root",r,o&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,n.A)(i,p,t)})(C),[M,N]=(0,g.A)("img",{className:D.img,elementType:b,externalForwardedProps:{slots:x,slotProps:{img:{...j,...u.img}}},additionalProps:{alt:a,src:f,srcSet:y,sizes:v},ownerState:C});return S=z?(0,c.jsx)(M,{...N}):s||0===s?s:I&&a?a[0]:(0,c.jsx)(m,{ownerState:C,className:D.fallback}),(0,c.jsx)(A,{as:h,className:(0,i.A)(D.root,d),ref:t,...k,ownerState:C,children:S})}))}}]);
//# sourceMappingURL=912.cc0258b0.chunk.js.map