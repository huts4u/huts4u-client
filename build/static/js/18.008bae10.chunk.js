"use strict";(self.webpackChunkhuts4u=self.webpackChunkhuts4u||[]).push([[18],{6018:(e,o,t)=>{t.r(o),t.d(o,{default:()=>z});var r=t(7353),i=t(12110),n=t(26494),l=t(94496),a=t(36591),s=t(39336),d=t(60446),c=t.n(d),h=t(13892),x=t(65043),u=t(17195),p=t.n(u),m=t(73216),g=t(57488),b=t(80899),f=t(31716),v=t(69995),y=t(59007),A=t(83462),j=t(26600),k=t(35316),w=t(29347),C=t(11906),S=t(33580),I=t(59628),R=t(70579);const M=e=>{let{orderDetails:o,bookingDetails:t}=e;console.log(t);const r=(0,m.Zp)(),[i,n]=(0,x.useState)(!0),l=()=>n(!1);return(0,R.jsx)("div",{children:(0,R.jsxs)(A.A,{open:i,onClose:l,maxWidth:"xs",fullWidth:!0,sx:{"& .MuiPaper-root":{padding:"8px",borderRadius:"16px"}},children:[(0,R.jsx)(j.A,{children:"Complete Your Payment"}),(0,R.jsx)(k.A,{children:(0,R.jsx)("p",{children:"Ensure your payment details are correct before proceeding."})}),(0,R.jsxs)(w.A,{style:{display:"flex",justifyContent:"flex-end"},children:[(0,R.jsx)(C.A,{style:{textTransform:"none",color:"black"},onClick:l,children:"Cancel"}),(0,R.jsx)(C.A,{onClick:async()=>{var e;if(!await(e="https://checkout.razorpay.com/v1/checkout.js",new Promise((o=>{const t=document.createElement("script");t.src=e,t.onload=()=>o(!0),t.onerror=()=>o(!1),document.body.appendChild(t)}))))return void alert("Failed to load Razorpay SDK. Please check your internet connection.");if(!window.Razorpay)return void alert("Razorpay SDK is not available. Try reloading the page.");const i={key:y.tz||"",amount:o.data.amount,currency:o.data.currency,order_id:o.data.id,handler:async e=>{try{var i,n,l,a,s,d,c;await(0,v.KF)({orderId:e.razorpay_order_id,paymentId:e.razorpay_payment_id,signature:e.razorpay_signature}),alert("Payment Successful");const h={userId:(0,I.F6)(),hotelId:null===t||void 0===t||null===(i=t.hotel)||void 0===i?void 0:i.id,geustName:null===t||void 0===t||null===(n=t.guestInfo)||void 0===n?void 0:n.name,amountPaid:o.data.amount,checkInDate:null===t||void 0===t||null===(l=t.timing)||void 0===l?void 0:l.checkInDate,checkInTime:null===t||void 0===t||null===(a=t.timing)||void 0===a?void 0:a.checkInTime,checkOutDate:null===t||void 0===t||null===(s=t.timing)||void 0===s?void 0:s.checkOutDate,checkOutTime:null===t||void 0===t||null===(d=t.timing)||void 0===d?void 0:d.checkOutTime,bookingType:null===t||void 0===t?void 0:t.bookingType,geustDetails:null===t||void 0===t?void 0:t.guestInfo,adults:null===t||void 0===t?void 0:t.adults,children:null===t||void 0===t?void 0:t.children,hotelName:null===t||void 0===t||null===(c=t.hotel)||void 0===c?void 0:c.propertyName,status:"pending"};(0,v.UY)(h).then((e=>{var o;(0,g.oR)(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.msg)})).catch((e=>{console.log(e)})),r("/my-bookings")}catch(h){alert("Payment verification failed. Please try again.")}}};new window.Razorpay(i).open()},variant:"contained",style:{background:S.A.firstColor,fontSize:"18px",textTransform:"none",border:"solid 1px white"},sx:{padding:"2px 10px",transition:"all 0.4s ease","&:hover":{paddingRight:"20px"}},children:"Proceed to Pay"})]})]})})};var Y=t(46162),D=t(88553);const P="700.00",T=b.Ik({name:b.Yj().required("Name is required"),email:b.Yj().email("Invalid email").optional()}),z=()=>{var e,o,t,d,u;const b=(0,m.zy)(),y=null===(e=b.state)||void 0===e?void 0:e.hotelData,A=null===(o=b.state)||void 0===o?void 0:o.selectedRoom,j=null===(t=b.state)||void 0===t?void 0:t.selectedSlot,k=null===(d=b.state)||void 0===d?void 0:d.pricingDetails,w=new URLSearchParams(b.search),C=w.get("bookingType"),z=w.get("time"),O=w.get("checkinDate"),B=w.get("checkOutDate"),F=w.get("rooms"),N=w.get("adults"),L=w.get("children"),$=null===j||void 0===j?void 0:j.slot,E=null===$||void 0===$||null===(u=$.match(/\d+/))||void 0===u?void 0:u[0],U=E?parseInt(E,10):null,[V,_]=(0,x.useState)({});(0,x.useEffect)((()=>{(0,I.M3)()&&(0,v.E$)().then((e=>{var o;_(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.data)})).catch((e=>{console.log(e)}))}),[]);const[K,X]=(0,x.useState)(null),G=null===k||void 0===k?void 0:k.totalPrice,H=(0,m.Zp)(),Z=(0,h.Wx)({initialValues:{name:V.userName||"",email:V.email||"",phoneNumber:`91${V.phoneNumber}`||""},validationSchema:T,enableReinitialize:!0,onSubmit:e=>{if((0,I.M3)())(async()=>{try{if(0===G)return void alert("Booking amount cannot be zero.");const e={amount:G,currency:"INR"},o=await(0,v.fS)(e);null!==o&&void 0!==o&&o.data?X(o.data):alert("Payment failed. Please try again.")}catch(e){console.error("Error during payment:",e),alert("Payment failed. Please try again.")}})();else{const o={name:e.name,email:e.email,phone:e.phoneNumber.slice(2)};(0,v.AJ)(o).then((o=>{var t;console.log(o),(0,g.oR)("Otp send Succesfully please verify the OTP"),((e,o,t,r)=>{const i=new URLSearchParams(b.search);i.set("login","true"),i.set("phone",e),i.set("name",o),i.set("email",t),i.set("token",r),H(`${b.pathname}?${i.toString()}`,{replace:!0,state:{...b.state}})})(e.phoneNumber.slice(2),e.name,e.email,null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.data)})).catch((e=>{console.log(e)}))}}}),q=(0,x.useRef)(null),[J,Q]=(0,x.useState)("auto");return(0,x.useEffect)((()=>{q.current&&Q(`${q.current.clientHeight}px`)}),[y]),(0,R.jsxs)(r.A,{sx:{...Y.VX,background:"#f6f6f6",mt:0,py:4,px:{xs:1,md:3},display:"flex",flexDirection:{xs:"column",md:"row"},justifyContent:"center",gap:"20px"},children:[(0,R.jsx)(i.A,{sx:{p:1,background:"white",maxWidth:"700px",border:"none",boxShadow:0,borderRadius:"12px"},children:(0,R.jsxs)(n.A,{children:[(0,R.jsx)(l.A,{variant:"h6",gutterBottom:!0,sx:{color:S.A.firstColor,fontWeight:"bold"},children:"Your Booking Summary"}),(0,R.jsxs)(r.A,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:{xs:0,md:2},position:"relative",mt:2,height:"fit-content",alignItems:"stretch"},children:[(0,R.jsx)(a.A,{component:"img",sx:{width:{xs:"100%",md:"250px"},borderRadius:"12px",objectFit:"cover",height:J,transition:"height 0.3s ease"},image:null===y||void 0===y?void 0:y.propertyImages[0]}),(0,R.jsxs)("div",{style:{height:"fit-content"},ref:q,children:[(0,R.jsx)(l.A,{sx:{fontSize:"20px",fontWeight:600,color:S.A.firstColor,mt:{xs:1.5,md:1},display:"-webkit-box",overflow:"hidden",textOverflow:"ellipsis",WebkitLineClamp:1,WebkitBoxOrient:"vertical"},children:null===y||void 0===y?void 0:y.propertyName}),(0,R.jsx)(l.A,{sx:{fontFamily:"CustomFontSB",fontSize:{xs:"12px",md:"14px"},display:"-webkit-box",overflow:"hidden",textOverflow:"ellipsis",WebkitLineClamp:1,WebkitBoxOrient:"vertical"},children:null===y||void 0===y?void 0:y.address}),(0,R.jsxs)("div",{style:{marginTop:"10px",display:"flex",flexWrap:"wrap",flexDirection:"column",gap:"4px"},children:["hourly"===C?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(l.A,{sx:W,children:[(0,R.jsx)("strong",{children:"Check-In:"})," ",c()(O).format("DD MMM YYYY"),","," ",z?c()(z,"HH:mm").format("hh:mm A"):""]}),(0,R.jsxs)(l.A,{sx:W,children:[(0,R.jsx)("strong",{children:"Duration: "}),U," hrs"]})]}):(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(l.A,{sx:W,children:[(0,R.jsx)("strong",{children:"Check-In:"})," ",c()(O).format("DD MMM YYYY")]}),(0,R.jsxs)(l.A,{sx:W,children:[(0,R.jsx)("strong",{children:"Check-Out:"})," ",c()(B).format("DD MMM YYYY")]})]}),(0,R.jsxs)(l.A,{sx:W,children:[(0,R.jsx)("strong",{children:"Room Type:"})," ",null===A||void 0===A?void 0:A.roomCategory]}),(0,R.jsxs)(l.A,{sx:W,children:[(0,R.jsx)("strong",{children:"Room Info: "}),F," Room,\xa0",N," Adults, ",L," Children"]})]})]})]}),(0,R.jsxs)("form",{onSubmit:Z.handleSubmit,children:[(0,R.jsx)(l.A,{variant:"h6",mt:4,sx:{color:S.A.firstColor,fontWeight:"bold"},children:"Guest Information"}),(0,R.jsx)(Y.XY,{label:"Guest Name",name:"name",fullWidth:!0,margin:"normal",value:Z.values.name,onChange:Z.handleChange,onBlur:Z.handleBlur,error:Z.touched.name&&Boolean(Z.errors.name)}),(0,R.jsxs)(r.A,{mt:1,children:[(0,R.jsx)(p(),{country:"in",value:Z.values.phoneNumber,onChange:e=>Z.setFieldValue("phoneNumber",e),onBlur:()=>Z.setFieldTouched("phoneNumber",!0),inputStyle:{width:"100%",height:"56px",borderRadius:"52px",border:"none",boxShadow:"4px 4px 10px rgba(104, 39, 184, 0.17)",color:S.A.firstColor,paddingLeft:"58px",fontSize:"16px",backgroundColor:"white",transition:"border-color 0.2s ease"},buttonStyle:{borderRadius:"52px 0 0 52px",margin:"5px",backgroundColor:"white"},containerStyle:{width:"100%"}}),Z.touched.phoneNumber&&Z.errors.phoneNumber&&(0,R.jsx)(l.A,{sx:{color:"red",fontSize:"12px",mt:.5,ml:"14px"},children:Z.errors.phoneNumber})]}),(0,R.jsx)(Y.XY,{label:"Email Address (Optional)",name:"email",fullWidth:!0,margin:"normal",value:Z.values.email,onChange:Z.handleChange,onBlur:Z.handleBlur,error:Z.touched.email&&Boolean(Z.errors.email)}),(0,I.M3)()?(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(f.A,{variant:"contained",color:"primary",fullWidth:!0,sx:{mt:2},type:"submit",children:"Pay Now"})}):(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(f.A,{variant:"contained",color:"primary",fullWidth:!0,sx:{mt:2},type:"submit",children:"verify Phone & Pay"})}),(0,R.jsx)(D.A,{}),K&&(0,R.jsx)(M,{orderDetails:K,amount:P,bookingDetails:{hotel:y,room:A,guestInfo:Z.values,timing:(()=>{if("hourly"===C&&z&&U){const e=c()(`${O} ${z}`),o=e.add(U,"hour");return{checkInDate:e.format("DD MMM YYYY"),checkInTime:e.format("hh:mm A"),checkOutDate:o.format("DD MMM YYYY"),checkOutTime:o.format("hh:mm A"),duration:`${U} hrs`}}return{checkInDate:c()(O).format("DD MMM YYYY"),checkInTime:"12.00 PM",checkOutDate:c()(B).format("DD MMM YYYY"),checkOutTime:"11.00 AM",duration:c()(B).diff(c()(O),"day")+1+" night(s)"}})(),pricingDetails:k,bookingType:C,rooms:F,adults:N,children:L}})]})]})}),(0,R.jsx)(i.A,{sx:{p:1,background:"white",border:"none",boxShadow:0,borderRadius:"12px",height:"fit-content"},children:(0,R.jsxs)(n.A,{children:[(0,R.jsx)(l.A,{variant:"h6",gutterBottom:!0,sx:{color:S.A.firstColor,fontWeight:"bold"},children:"Your Bil Summary"}),(0,R.jsxs)("div",{style:{marginTop:"10px",display:"flex",flexWrap:"wrap",flexDirection:"column",gap:"4px"},children:[(0,R.jsxs)(l.A,{sx:W,children:[(0,R.jsx)("strong",{children:"Room price: "}),"\u20b9",null===k||void 0===k?void 0:k.basePrice]}),(0,R.jsxs)(l.A,{sx:W,children:[(0,R.jsx)("strong",{children:"Tax: "}),"\u20b9",null===k||void 0===k?void 0:k.tax]}),(0,R.jsxs)(l.A,{sx:W,children:[(0,R.jsx)("strong",{children:"Extra fees: "}),"\u20b9",null===k||void 0===k?void 0:k.extraFees]}),(0,R.jsx)(s.A,{sx:{my:2}}),(0,R.jsxs)(l.A,{variant:"h6",sx:{color:S.A.firstColor,fontWeight:"bold",lineHeight:1},children:["Total price: \u20b9",null===k||void 0===k?void 0:k.totalPrice,".00 ",(0,R.jsx)("br",{}),(0,R.jsx)("span",{style:{fontSize:"12px",fontWeight:"normal"},children:"incl. of all taxes"})]})]})]})})]})},W={borderRadius:"52px",boxShadow:"4px 4px 10px rgba(104, 39, 184, 0.17)",color:S.A.firstColor,background:"white",fontSize:{xs:"12px",md:"14px"},width:"fit-content",p:1,px:2,mb:1}},46162:(e,o,t)=>{t.d(o,{$2:()=>W,Gw:()=>D,KU:()=>T,Kl:()=>F,VX:()=>I,XY:()=>z,YY:()=>R,cf:()=>B,ds:()=>L,fh:()=>N,lm:()=>O,rD:()=>P,t0:()=>$});var r=t(99389),i=t(33438),n=t(72323),l=t(52101),a=t(58293),s=t(16374),d=t(34535),c=t(74605),h=t(17392),x=t(67784),u=t(26240),p=t(85442),m=t(7353),g=t(94496),b=t(53062),f=t(68903),v=t(35721),y=t(30681),A=t(2050),j=t(48734),k=t(11906),w=t(33580),C=t(65043),S=t(70579);const I={p:2,px:4,boxShadow:"0px 0px 20px rgba(0, 0, 0, 0.18)",borderRadius:"12px",my:4};function R(e){return(0,S.jsx)(s.A,{style:{padding:"6px"},disableRipple:!0,color:"default",checkedIcon:(0,S.jsx)(Y,{}),icon:(0,S.jsx)(M,{}),...e})}const M=(0,d.Ay)("span")((e=>{let{theme:o}=e;return{borderRadius:"50%",width:18,height:18,boxShadow:"inset 0 0 0 1px rgba(16,22,26,.2), inset 0 -1px 0 rgba(16,22,26,.1)",backgroundColor:"#f5f8fa",backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))",".Mui-focusVisible &":{outline:"2px auto rgba(41, 91, 122, 0.6)",outlineOffset:2},"input:hover ~ &":{backgroundColor:"#ebf1f5",...o.applyStyles("dark",{backgroundColor:"#30404d"})},"input:disabled ~ &":{boxShadow:"none",background:"rgba(206,217,224,.5)",...o.applyStyles("dark",{background:"rgba(57,75,89,.5)"})},...o.applyStyles("dark",{boxShadow:"0 0 0 1px rgb(16 22 26 / 40%)",backgroundColor:"#394b59",backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.05),hsla(0,0%,100%,0))"})}})),Y=(0,d.Ay)(M)({backgroundColor:w.A.secondColor,backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.1),hsla(0,0%,100%,0))","&::before":{display:"block",width:18,height:18,backgroundImage:"radial-gradient(#fff,#fff 28%,transparent 32%)",content:'""'},"input:hover ~ &":{backgroundColor:w.A.secondColor}}),D=(0,d.Ay)(c.A)((e=>{let{theme:o,checked:t}=e;return{color:t?w.A.thirdColor:w.A.firstColor,background:t?w.A.firstColor:"transparent",borderRadius:" 2px 8px 8px 2px",display:"flex",alignItems:"center",transition:"0.3s",paddingLeft:t?"30px":"auto",marginLeft:t?"-40px":"-10px",paddingRight:"10px",fontSize:t?"1rem":"0.95rem"}})),P=(0,d.Ay)(s.A)({color:w.A.firstColor,"&.Mui-checked":{color:w.A.thirdColor}}),T=e=>{const{onClick:o}=e;return(0,S.jsx)(h.A,{onClick:o,sx:{position:"absolute",right:"0px",top:"50%",transform:"translateY(-50%)",background:w.A.background,color:"white",zIndex:2,"&:hover":{background:w.A.firstColor}},children:(0,S.jsx)(r.A,{})})},z=(0,d.Ay)(x.A)({marginBottom:"10px","& .MuiOutlinedInput-root":{"& fieldset":{border:"none",borderRadius:"52px",boxShadow:"4px 4px 10px rgba(104, 39, 184, 0.17)",color:w.A.firstColor},"&:hover fieldset":{border:"solid 1px"},"&.Mui-focused fieldset":{border:"solid 1px"}},"& .MuiInputBase-input":{color:w.A.firstColor},"& .MuiInputLabel-root":{color:w.A.firstColor},"& .MuiInputLabel-root.Mui-focused":{color:w.A.firstColor}}),W=(0,d.Ay)(x.A)({marginBottom:"20px","& .MuiOutlinedInput-root":{"& fieldset":{border:"solid 1px white",boxShadow:"-4px -4px 10px rgba(255, 255, 255, 0.36) inset",color:"white",borderRadius:"12px"},"&:hover fieldset":{border:"solid 1px"},"&.Mui-focused fieldset":{border:"solid 1px"}},"& .MuiInputBase-input":{color:"white"},"& .MuiInputLabel-root":{color:"white"},"& .MuiInputLabel-root.Mui-focused":{color:"white"}}),O=()=>{const e=(0,u.A)();return{isBelow400px:(0,p.A)(e.breakpoints.down(400))}},B={border:"none",borderRadius:"52px",boxShadow:"4px 4px 10px rgba(104, 39, 184, 0.17)",color:w.A.firstColor,padding:"0px",marginTop:"0px",width:"100%",boxSizing:"border-box","& .MuiOutlinedInput-root":{padding:"0px",borderBottom:"4px solid",borderColor:w.A.firstColor,"& fieldset":{border:"none"},"&:hover fieldset":{border:"none"},"&.Mui-focused fieldset":{border:"none"},"& .MuiInputLabel-root":{color:w.A.firstColor}}},F=e=>{let{propertyImages:o}=e;const t=Math.min(o.length,7),r=o.slice(0,t),n=o.length>7,[l,a]=(0,C.useState)(!1),s=(0,p.A)("(max-width: 900px)");return(0,S.jsxs)(m.A,{sx:{display:{xs:"block",md:"grid"},gap:{xs:0,md:1},width:"100%",height:"300px",gridTemplateColumns:r.length>5?"40% 20% 20% 20%":"60% 20% 20%",gridTemplateRows:"auto","& img":{width:"100%",height:"100%",objectFit:"cover",borderRadius:"8px"},position:"relative"},children:[(0,S.jsx)(m.A,{onClick:()=>a(!0),sx:{gridColumn:{xs:"auto",md:"span 1"},gridRow:{xs:"auto",md:"span 2"},height:"300px",width:{xs:"100%",md:"auto"},display:{xs:"block",md:"grid"}},children:(0,S.jsx)("img",{style:{height:"300px"},src:r[0],alt:"Main"})}),!s&&r.slice(1).map(((e,o)=>o%2===0?(0,S.jsxs)(m.A,{onClick:()=>a(!0),display:"grid",sx:{gridTemplateRows:"146px 146px",height:"300px",gap:"8px"},children:[(0,S.jsx)("img",{src:e,alt:`Image ${o+2}`,style:{height:"100%",width:"100%",objectFit:"cover"}}),r[o+2]&&(0,S.jsx)("img",{src:r[o+2],alt:`Image ${o+3}`,style:{height:"100%",width:"100%",objectFit:"cover"}})]},o):null)),n&&(0,S.jsx)(m.A,{sx:{position:"absolute",bottom:10,right:10,background:w.A.background,color:"white",borderRadius:"8px",p:1,textAlign:"center",cursor:"pointer",boxShadow:"-4px -4px 10px rgba(32, 32, 32, 0.28) inset, 0px 0px 10px rgba(32, 32, 32, 0.28)"},children:(0,S.jsxs)(g.A,{variant:"body2",children:["+ ",s?o.length-1:o.length-7," More"]})}),(0,S.jsx)(b.A,{open:l,onClose:()=>a(!1),children:(0,S.jsxs)(m.A,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",height:"80%",bgcolor:"white",boxShadow:24,p:2,overflowY:"auto",borderRadius:"8px"},children:[(0,S.jsx)(g.A,{variant:"h6",textAlign:"center",mb:2,children:"All Images"}),(0,S.jsx)(i.A,{onClick:()=>a(!1),sx:{position:"absolute",top:10,right:10}}),(0,S.jsx)(m.A,{display:"grid",gap:2,sx:{gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))"},children:o.map(((e,o)=>(0,S.jsx)("img",{src:e,alt:`Image ${o+1}`,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"8px"}},o)))})]})})]})},N=e=>{let{room:o}=e;const[t,r]=(0,C.useState)(!1),i=t?o.amenities:o.amenities.slice(0,6),s=Math.ceil(i.length/2),d=i.slice(0,s),c=i.slice(s);return(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(m.A,{sx:{mt:{xs:1,md:0}},children:(0,S.jsx)(f.Ay,{container:!0,spacing:{xs:1,md:0},children:[d,c].map(((e,i)=>(0,S.jsx)(f.Ay,{item:!0,xs:6,md:12,children:(0,S.jsx)(v.A,{disablePadding:!0,children:e.map(((s,d)=>{const c=1===i&&d===e.length-1&&o.amenities.length>6;return(0,S.jsxs)(y.Ay,{sx:{py:.2,px:{xs:0,md:2},display:"flex",alignItems:"center",flexWrap:"wrap"},children:[(0,S.jsxs)("div",{style:{display:"flex",alignItems:"flex-start"},children:[(0,S.jsx)(A.A,{sx:{minWidth:"20px",mt:.5},children:(0,S.jsx)(n.A,{sx:{fontSize:"8px"}})}),(0,S.jsx)(j.A,{style:{margin:0},primary:s,primaryTypographyProps:{style:{fontSize:"12px"}}})]}),c&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(k.A,{onClick:()=>r(!t),sx:{textTransform:"none",fontSize:"14px",ml:"auto",p:0,color:w.A.firstColor,fontWeight:"bold"},children:t?"Show Less":"... Show All"}),t?(0,S.jsx)(l.A,{}):(0,S.jsx)(a.A,{})]})]},d)}))})},i)))})})})},L=e=>e>=4.5?"Excellent":e>=3.5?"Good":e>=2.5?"Average":e>=1.5?"Poor":"Very Poor",$=e=>e>=4.5?"#46b648":e>=3.5?"#b4d137":e>=2.5?"#fed018":e>=1.5?"#f7921e":"#e91d26"},88553:(e,o,t)=>{t.d(o,{A:()=>f});var r=t(83560),i=t(53062),n=t(7353),l=t(94496),a=t(11906),s=t(68903),d=t(67784),c=t(65043),h=(t(73337),t(73216)),x=t(33580),u=t(69995),p=t(57488),m=t(59628),g=t(70579);const b={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:400,width:"90%",height:240,background:x.A.thirdColor,borderRadius:"12px"},f=()=>{const[e,o]=(0,c.useState)(1),[t,f]=(0,c.useState)(""),[v,y]=(0,c.useState)("in"),[A,j]=(0,c.useState)(""),k=(0,h.Zp)(),w=(0,h.zy)(),C=(w.state,new URLSearchParams(w.search)),S=C.get("phone"),I=C.get("name"),R=C.get("token"),M=C.get("email"),[Y,D]=(0,c.useState)(Array(4).fill("")),P=Array.from({length:4},(()=>(0,c.useRef)(null))),T="true"===new URLSearchParams(w.search).get("login"),z=()=>{const e=new URLSearchParams(w.search);e.delete("login"),e.delete("phone"),e.delete("name"),e.delete("email"),e.delete("token"),k(`${w.pathname}?${e.toString()}`,{replace:!0,state:{...w.state}})};return(0,g.jsx)(i.A,{open:T,onClose:z,children:(0,g.jsx)(n.A,{sx:b,children:(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:"subscribe",style:{background:x.A.background,color:"white",position:"relative",boxShadow:"-4px -4px 10px rgba(255, 255, 255, 0.36) inset",borderRadius:"12px",overflow:"hidden"},children:[(0,g.jsx)(n.A,{sx:{background:"url('/assets/footer.webp')",backgroundSize:{xs:"70%",md:"70%"},backgroundRepeat:"no-repeat",backgroundPosition:"bottom left",position:"absolute",top:0,left:0,width:"100%",height:"100%"}}),(0,g.jsx)(l.A,{variant:"h6",children:"Enter OTP"}),(0,g.jsxs)(l.A,{variant:"body2",sx:{mb:1},children:["Sent to: +",S," ",(0,g.jsxs)(a.A,{size:"small",onClick:()=>z(),sx:{color:x.A.firstColor,background:x.A.thirdColor,p:0,px:1,minWidth:0,ml:1,textTransform:"none"},children:[(0,g.jsx)(r.A,{sx:{fontSize:"14px"}})," Edit"]})]}),(0,g.jsx)(s.Ay,{container:!0,spacing:1,justifyContent:"center",mt:3,children:Y.map(((e,o)=>(0,g.jsx)(s.Ay,{item:!0,children:(0,g.jsx)(d.A,{inputRef:P[o],value:Y[o],onChange:e=>((e,o)=>{if(!/^\d*$/.test(o))return;const t=[...Y];var r;t[e]=o,D(t),o&&e<3&&(null===(r=P[e+1].current)||void 0===r||r.focus())})(o,e.target.value),inputProps:{maxLength:1,style:{textAlign:"center",fontSize:18,borderColor:"transparent"}},sx:{width:40,bgcolor:x.A.thirdColor,borderRadius:2,border:"none",outline:"none",boxShadow:"none","& fieldset":{border:"none"},"&:hover":{bgcolor:"#f5f5f5"},"& .MuiInputBase-input":{color:x.A.firstColor,fontFamily:"CustomFontB",fontSize:"20px"}}})},o)))}),(0,g.jsx)(a.A,{onClick:()=>{if(4===Y.join("").length){const e={otp:Y.join(""),sessionId:R,phone:S,name:I,email:M};(0,u.vJ)(e).then((e=>{var o,t,r,i,n,l;(0,m.p$)(null===e||void 0===e||null===(o=e.data)||void 0===o||null===(t=o.data)||void 0===t?void 0:t.token),(0,m.lt)(null===e||void 0===e||null===(r=e.data)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.user),(0,p.oR)(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.msg),z(),null!==(l=w.state)&&void 0!==l&&l.onPaymentSuccess&&w.state.onPaymentSuccess()})).catch((e=>{(0,p.oR)(e)}))}else alert("Enter complete OTP")},type:"submit",sx:{background:x.A.thirdColor,color:x.A.firstColor,fontSize:"14px",fontWeight:"bold",textTransform:"none",m:"auto",mt:4,width:"100%",display:"block",position:"absolute",bottom:0,left:0,borderRadius:0,py:2,boxShadow:"0px -6px 50px rgba(7, 7, 7, 0.11)"},children:"Verify OTP"})]})})})})}}}]);
//# sourceMappingURL=18.008bae10.chunk.js.map