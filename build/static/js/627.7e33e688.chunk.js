"use strict";(self.webpackChunkhuts4u=self.webpackChunkhuts4u||[]).push([[627],{26494:(e,o,t)=>{t.d(o,{A:()=>h});var r=t(65043),n=t(58387),s=t(98610),l=t(34535),i=t(98206),a=t(92532),c=t(72372);function d(e){return(0,c.Ay)("MuiCardContent",e)}(0,a.A)("MuiCardContent",["root"]);var u=t(70579);const A=(0,l.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,o)=>o.root})({padding:16,"&:last-child":{paddingBottom:24}}),h=r.forwardRef((function(e,o){const t=(0,i.b)({props:e,name:"MuiCardContent"}),{className:r,component:l="div",...a}=t,c={...t,component:l},h=(e=>{const{classes:o}=e;return(0,s.A)({root:["root"]},d,o)})(c);return(0,u.jsx)(A,{as:l,className:(0,n.A)(h.root,r),ownerState:c,ref:o,...a})}))},26600:(e,o,t)=>{t.d(o,{A:()=>h});var r=t(65043),n=t(58387),s=t(98610),l=t(94496),i=t(34535),a=t(98206),c=t(87034),d=t(2563),u=t(70579);const A=(0,i.Ay)(l.A,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,o)=>o.root})({padding:"16px 24px",flex:"0 0 auto"}),h=r.forwardRef((function(e,o){const t=(0,a.b)({props:e,name:"MuiDialogTitle"}),{className:l,id:i,...h}=t,x=t,p=(e=>{const{classes:o}=e;return(0,s.A)({root:["root"]},c.t,o)})(x),{titleId:j=i}=r.useContext(d.A);return(0,u.jsx)(A,{component:"h2",className:(0,n.A)(p.root,l),ownerState:x,ref:o,variant:"h6",id:i??j,...h})}))},29347:(e,o,t)=>{t.d(o,{A:()=>h});var r=t(65043),n=t(58387),s=t(98610),l=t(34535),i=t(98206),a=t(92532),c=t(72372);function d(e){return(0,c.Ay)("MuiDialogActions",e)}(0,a.A)("MuiDialogActions",["root","spacing"]);var u=t(70579);const A=(0,l.Ay)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[o.root,!t.disableSpacing&&o.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:e=>{let{ownerState:o}=e;return!o.disableSpacing},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),h=r.forwardRef((function(e,o){const t=(0,i.b)({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:l=!1,...a}=t,c={...t,disableSpacing:l},h=(e=>{const{classes:o,disableSpacing:t}=e,r={root:["root",!t&&"spacing"]};return(0,s.A)(r,d,o)})(c);return(0,u.jsx)(A,{className:(0,n.A)(h.root,r),ownerState:c,ref:o,...a})}))},51387:(e,o,t)=>{t.d(o,{A:()=>s});var r=t(59662),n=t(70579);const s=(0,r.A)((0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},98627:(e,o,t)=>{t.r(o),t.d(o,{default:()=>E});var r=t(65043),n=t(7353),s=t(12110),l=t(26494),i=t(94496),a=t(79650),c=t(61596),d=t(71806),u=t(84882),A=t(28076),h=t(10039),x=t(73460),p=t(17392),j=t(83462),f=t(26600),m=t(35316),g=t(58387),v=t(98610),y=t(61475),C=t(34535),w=t(98206),S=t(92532),b=t(72372);function D(e){return(0,b.Ay)("MuiDialogContentText",e)}(0,S.A)("MuiDialogContentText",["root"]);var M=t(70579);const R=(0,C.Ay)(i.A,{shouldForwardProp:e=>(0,y.A)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,o)=>o.root})({}),N=r.forwardRef((function(e,o){const t=(0,w.b)({props:e,name:"MuiDialogContentText"}),{children:r,className:n,...s}=t,l=(e=>{const{classes:o}=e,t=(0,v.A)({root:["root"]},D,o);return{...o,...t}})(s);return(0,M.jsx)(R,{component:"p",variant:"body1",color:"textSecondary",ref:o,ownerState:s,className:(0,g.A)(l.root,n),...t,classes:l})}));var k=t(29347),H=t(11906),T=t(83560),I=t(51387),z=t(69995),U=t(57488),B=t(73216);const E=()=>{const[e,o]=(0,r.useState)([]),[t,g]=(0,r.useState)([]),[v,y]=(0,r.useState)(!1),[C,w]=(0,r.useState)(null),[S,b]=(0,r.useState)(null),[D,R]=(0,r.useState)("");(0,r.useEffect)((()=>{(0,z.rL)({data:{filter:""},page:0,pageSize:50,order:[["createdAt","ASC"]]}).then((e=>{var t,r;o(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.rows)})).catch((e=>{console.log(e)}))}),[]),(0,r.useEffect)((()=>{(0,z.Vy)({data:{filter:""},page:0,pageSize:50,order:[["createdAt","ASC"]]}).then((e=>{var o,t;console.log(e),g(null===e||void 0===e||null===(o=e.data)||void 0===o||null===(t=o.data)||void 0===t?void 0:t.rows)})).catch((e=>{console.log(e)}))}),[]);const E=(0,B.Zp)(),F=()=>{y(!1),w(null),b(null),R("")};return(0,M.jsxs)(n.A,{sx:{display:"flex",flexDirection:"column",gap:3,padding:3,width:"90%",alignItems:"center"},children:[(0,M.jsx)(s.A,{sx:{width:"100%",display:"flex",flexDirection:"column"},children:(0,M.jsxs)(l.A,{sx:{flex:1},children:[(0,M.jsx)(i.A,{variant:"h5",gutterBottom:!0,children:"User Table"}),(0,M.jsx)(a.A,{component:c.A,sx:{maxHeight:"400px",overflowY:"auto"},children:(0,M.jsxs)(d.A,{stickyHeader:!0,children:[(0,M.jsx)(u.A,{children:(0,M.jsxs)(A.A,{children:[(0,M.jsx)(h.A,{children:"ID"}),(0,M.jsx)(h.A,{children:"User Name"}),(0,M.jsx)(h.A,{children:"Email"}),(0,M.jsx)(h.A,{children:"Phone Number"}),(0,M.jsx)(h.A,{children:"Role"})]})}),(0,M.jsx)(x.A,{children:e.map((e=>(0,M.jsxs)(A.A,{children:[(0,M.jsx)(h.A,{children:e.id}),(0,M.jsx)(h.A,{children:e.userName}),(0,M.jsx)(h.A,{children:e.email}),(0,M.jsx)(h.A,{children:e.phoneNumber}),(0,M.jsx)(h.A,{children:e.role})]},e.id)))})]})})]})}),(0,M.jsx)(s.A,{sx:{width:"100%",display:"flex",flexDirection:"column"},children:(0,M.jsxs)(l.A,{sx:{flex:1},children:[(0,M.jsx)(i.A,{variant:"h5",gutterBottom:!0,children:"Hotel Table"}),(0,M.jsx)(a.A,{component:c.A,sx:{maxHeight:"400px",overflowY:"auto"},children:(0,M.jsxs)(d.A,{stickyHeader:!0,children:[(0,M.jsx)(u.A,{children:(0,M.jsxs)(A.A,{children:[(0,M.jsx)(h.A,{children:"ID"}),(0,M.jsx)(h.A,{children:"Hotel Name"}),(0,M.jsx)(h.A,{children:"Location"}),(0,M.jsx)(h.A,{children:"Contact"}),(0,M.jsx)(h.A,{children:"Actions"})]})}),(0,M.jsx)(x.A,{children:t.map((e=>(0,M.jsxs)(A.A,{children:[(0,M.jsx)(h.A,{children:e.id}),(0,M.jsx)(h.A,{children:e.propertyName}),(0,M.jsx)(h.A,{children:e.city}),(0,M.jsx)(h.A,{children:e.ownerMobile}),(0,M.jsxs)(h.A,{children:[(0,M.jsx)(p.A,{color:"primary",onClick:()=>E("/property-registration",{state:e.id}),children:(0,M.jsx)(T.A,{})}),(0,M.jsx)(p.A,{color:"error",onClick:()=>{return o=e.id,t="hotel",r=e.propertyName,w(o),b(t),R(r),void y(!0);var o,t,r},children:(0,M.jsx)(I.A,{})})]})]},e.id)))})]})})]})}),(0,M.jsxs)(j.A,{open:v,onClose:F,children:[(0,M.jsx)(f.A,{children:"Confirm Deletion"}),(0,M.jsx)(m.A,{children:(0,M.jsx)(N,{children:"user"===S?`Are you sure you want to delete the user "${D}"? This action cannot be undone.`:`Are you sure you want to delete the hotel "${D}"? This action cannot be undone.`})}),(0,M.jsxs)(k.A,{children:[(0,M.jsx)(H.A,{onClick:F,color:"primary",children:"Cancel"}),(0,M.jsxs)(H.A,{onClick:()=>{C&&S&&("user"===S?(0,z.hG)(C).then((()=>{U.oR.success("User deleted successfully"),o(e.filter((e=>e.id!==C)))})).catch((e=>{console.log(e),U.oR.error("Failed to delete user")})):"hotel"===S&&(0,z.GM)(C).then((e=>{g(t.filter((e=>e.id!==C))),U.oR.success("Hotel deleted successfully")})).catch((e=>{console.log(e)})),F())},color:"error",autoFocus:!0,children:["Delete ","user"===S?"User":"Hotel"]})]})]})]})}}}]);
//# sourceMappingURL=627.7e33e688.chunk.js.map