"use strict";(self.webpackChunkhuts4u=self.webpackChunkhuts4u||[]).push([[627],{26494:(e,t,o)=>{o.d(t,{A:()=>u});var n=o(65043),s=o(58387),r=o(98610),l=o(34535),i=o(98206),a=o(92532),c=o(72372);function d(e){return(0,c.Ay)("MuiCardContent",e)}(0,a.A)("MuiCardContent",["root"]);var h=o(70579);const A=(0,l.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:16,"&:last-child":{paddingBottom:24}}),u=n.forwardRef((function(e,t){const o=(0,i.b)({props:e,name:"MuiCardContent"}),{className:n,component:l="div",...a}=o,c={...o,component:l},u=(e=>{const{classes:t}=e;return(0,r.A)({root:["root"]},d,t)})(c);return(0,h.jsx)(A,{as:l,className:(0,s.A)(u.root,n),ownerState:c,ref:t,...a})}))},26600:(e,t,o)=>{o.d(t,{A:()=>u});var n=o(65043),s=o(58387),r=o(98610),l=o(94496),i=o(34535),a=o(98206),c=o(87034),d=o(2563),h=o(70579);const A=(0,i.Ay)(l.A,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),u=n.forwardRef((function(e,t){const o=(0,a.b)({props:e,name:"MuiDialogTitle"}),{className:l,id:i,...u}=o,x=o,j=(e=>{const{classes:t}=e;return(0,r.A)({root:["root"]},c.t,t)})(x),{titleId:p=i}=n.useContext(d.A);return(0,h.jsx)(A,{component:"h2",className:(0,s.A)(j.root,l),ownerState:x,ref:t,variant:"h6",id:i??p,...u})}))},29347:(e,t,o)=>{o.d(t,{A:()=>u});var n=o(65043),s=o(58387),r=o(98610),l=o(34535),i=o(98206),a=o(92532),c=o(72372);function d(e){return(0,c.Ay)("MuiDialogActions",e)}(0,a.A)("MuiDialogActions",["root","spacing"]);var h=o(70579);const A=(0,l.Ay)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,!o.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableSpacing},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),u=n.forwardRef((function(e,t){const o=(0,i.b)({props:e,name:"MuiDialogActions"}),{className:n,disableSpacing:l=!1,...a}=o,c={...o,disableSpacing:l},u=(e=>{const{classes:t,disableSpacing:o}=e,n={root:["root",!o&&"spacing"]};return(0,r.A)(n,d,t)})(c);return(0,h.jsx)(A,{className:(0,s.A)(u.root,n),ownerState:c,ref:t,...a})}))},51387:(e,t,o)=>{o.d(t,{A:()=>r});var n=o(59662),s=o(70579);const r=(0,n.A)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},83560:(e,t,o)=>{o.d(t,{A:()=>r});var n=o(59662),s=o(70579);const r=(0,n.A)((0,s.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},98627:(e,t,o)=>{o.r(t),o.d(t,{default:()=>L});var n=o(65043),s=o(7353),r=o(12110),l=o(26494),i=o(94496),a=o(79650),c=o(61596),d=o(71806),h=o(84882),A=o(28076),u=o(10039),x=o(73460),j=o(17392),p=o(83462),m=o(26600),f=o(35316),g=o(58387),v=o(98610),y=o(61475),C=o(34535),w=o(98206),D=o(92532),S=o(72372);function k(e){return(0,S.Ay)("MuiDialogContentText",e)}(0,D.A)("MuiDialogContentText",["root"]);var N=o(70579);const M=(0,C.Ay)(i.A,{shouldForwardProp:e=>(0,y.A)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),b=n.forwardRef((function(e,t){const o=(0,w.b)({props:e,name:"MuiDialogContentText"}),{children:n,className:s,...r}=o,l=(e=>{const{classes:t}=e,o=(0,v.A)({root:["root"]},k,t);return{...t,...o}})(r);return(0,N.jsx)(M,{component:"p",variant:"body1",color:"textSecondary",ref:t,ownerState:r,className:(0,g.A)(l.root,s),...o,classes:l})}));var R=o(29347),T=o(11906),H=o(83560),I=o(51387),B=o(69995),z=o(57488),F=o(73216);const L=()=>{const[e,t]=(0,n.useState)([]),[o,g]=(0,n.useState)([]),[v,y]=(0,n.useState)(!1),[C,w]=(0,n.useState)(null),[D,S]=(0,n.useState)(null),[k,M]=(0,n.useState)("");(0,n.useEffect)((()=>{const e={data:{filter:""},page:0,pageSize:50,order:[["createdAt","ASC"]]};(0,B.NO)(e).then((e=>{var o,n;const s=((null===e||void 0===e||null===(o=e.data)||void 0===o||null===(n=o.data)||void 0===n?void 0:n.rows)||[]).filter((e=>e.checkInDate)).sort(((e,t)=>new Date(t.checkInDate).getTime()-new Date(e.checkInDate).getTime()));t(s)})).catch((e=>{console.log(e)})),(0,B.Vy)(e).then((e=>{var t,o;g((null===e||void 0===e||null===(t=e.data)||void 0===t||null===(o=t.data)||void 0===o?void 0:o.rows)||[])})).catch((e=>{console.log(e)}))}),[]);const L=e=>{const t=e.toString();return t.slice(0,-2)+"."+t.slice(-2)},O=(0,F.Zp)(),V=()=>{y(!1),w(null),S(null),M("")};return(0,N.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",gap:3,padding:3,width:"90%",alignItems:"center"},children:[(0,N.jsx)(r.A,{sx:{width:"100%",display:"flex",flexDirection:"column"},children:(0,N.jsxs)(l.A,{sx:{flex:1},children:[(0,N.jsx)(i.A,{variant:"h5",gutterBottom:!0,children:"Booking Table"}),(0,N.jsx)(a.A,{component:c.A,sx:{maxHeight:"400px",overflowY:"auto"},children:(0,N.jsxs)(d.A,{stickyHeader:!0,children:[(0,N.jsx)(h.A,{children:(0,N.jsxs)(A.A,{children:[(0,N.jsx)(u.A,{children:"Booking ID"}),(0,N.jsx)(u.A,{children:"Hotel Name"}),(0,N.jsx)(u.A,{children:"Guest Name"}),(0,N.jsx)(u.A,{children:"Check-In"}),(0,N.jsx)(u.A,{children:"Check-Out"}),(0,N.jsx)(u.A,{children:"Status"}),(0,N.jsx)(u.A,{children:"Amount"})]})}),(0,N.jsx)(x.A,{children:e.map((e=>(0,N.jsxs)(A.A,{children:[(0,N.jsx)(u.A,{children:e.id}),(0,N.jsx)(u.A,{children:(null===e||void 0===e?void 0:e.hotelName)||"N/A"}),(0,N.jsx)(u.A,{children:(null===e||void 0===e?void 0:e.geustName)||"N/A"}),(0,N.jsx)(u.A,{children:e.checkInDate||"N/A"}),(0,N.jsx)(u.A,{children:e.checkOutDate||"N/A"}),(0,N.jsx)(u.A,{children:e.status||"N/A"}),(0,N.jsxs)(u.A,{children:["\u20b9",L(e.amountPaid)||"0"]})]},e.id)))})]})})]})}),(0,N.jsx)(r.A,{sx:{width:"100%",display:"flex",flexDirection:"column"},children:(0,N.jsxs)(l.A,{sx:{flex:1},children:[(0,N.jsx)(i.A,{variant:"h5",gutterBottom:!0,children:"Hotel Table"}),(0,N.jsx)(a.A,{component:c.A,sx:{maxHeight:"400px",overflowY:"auto"},children:(0,N.jsxs)(d.A,{stickyHeader:!0,children:[(0,N.jsx)(h.A,{children:(0,N.jsxs)(A.A,{children:[(0,N.jsx)(u.A,{children:"ID"}),(0,N.jsx)(u.A,{children:"Hotel Name"}),(0,N.jsx)(u.A,{children:"Location"}),(0,N.jsx)(u.A,{children:"Contact"}),(0,N.jsx)(u.A,{children:"Actions"})]})}),(0,N.jsx)(x.A,{children:o.map((e=>(0,N.jsxs)(A.A,{children:[(0,N.jsx)(u.A,{children:e.id}),(0,N.jsx)(u.A,{children:e.propertyName}),(0,N.jsx)(u.A,{children:e.city}),(0,N.jsx)(u.A,{children:e.ownerMobile}),(0,N.jsxs)(u.A,{children:[(0,N.jsx)(j.A,{color:"primary",onClick:()=>O("/property-registration",{state:e.id}),children:(0,N.jsx)(H.A,{})}),(0,N.jsx)(j.A,{color:"error",onClick:()=>{return t=e.id,o="hotel",n=e.propertyName,w(t),S(o),M(n),void y(!0);var t,o,n},children:(0,N.jsx)(I.A,{})})]})]},e.id)))})]})})]})}),(0,N.jsxs)(p.A,{open:v,onClose:V,children:[(0,N.jsx)(m.A,{children:"Confirm Deletion"}),(0,N.jsx)(f.A,{children:(0,N.jsx)(b,{children:"hotel"===D?`Are you sure you want to delete the hotel "${k}"? This action cannot be undone.`:`Are you sure you want to delete the booking "${k}"? This action cannot be undone.`})}),(0,N.jsxs)(R.A,{children:[(0,N.jsx)(T.A,{onClick:V,color:"primary",children:"Cancel"}),(0,N.jsxs)(T.A,{onClick:()=>{C&&D&&("hotel"===D&&(0,B.GM)(C).then((e=>{g(o.filter((e=>e.id!==C))),z.oR.success("Hotel deleted successfully")})).catch((e=>{console.log(e),z.oR.error("Failed to delete hotel")})),V())},color:"error",autoFocus:!0,children:["Delete ","hotel"===D?"Hotel":"Booking"]})]})]})]})}}}]);
//# sourceMappingURL=627.b032914a.chunk.js.map